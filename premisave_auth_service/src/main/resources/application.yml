spring:
  application:
    name: auth-service

  # ── Data Stores ──
  data:
    redis:
      host: ${REDIS_HOST:localhost}
      port: ${REDIS_PORT:6379}

  # ── MongoDB ──
  mongodb:
    uri: ${MONGODB_URI:mongodb://localhost:27017/premisave_auth}

  # ── Mail (Gmail SMTP) ──
  mail:
    host: smtp.gmail.com
    port: 587
    username: ${GMAIL_USERNAME}
    password: ${GMAIL_PASSWORD}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
            required: true

  # ── RabbitMQ ──
  rabbitmq:
    host: ${RABBITMQ_HOST:localhost}
    port: ${RABBITMQ_PORT:5672}
    username: ${RABBITMQ_USERNAME:guest}
    password: ${RABBITMQ_PASSWORD:guest}
    deserialization:
      trust-all: ${SPRING_AMQP_DESERIALIZATION_TRUST_ALL:true}

# ── Server ──
server:
  port: 8080

# ── Application URLs ──
frontend:
  url: ${FRONTEND_URL:http://localhost:3000}

backend:
  url: ${BACKEND_URL:http://localhost:8080}

# ── External Services ──
cloudinary:
  cloud-name: ${CLOUDINARY_CLOUD_NAME}
  api-key: ${CLOUDINARY_API_KEY}
  api-secret: ${CLOUDINARY_API_SECRET}

# ── JWT ──
jwt:
  secret: ${JWT_SECRET}
  expiration: ${JWT_EXPIRATION:86400000} # 24 hours

# ── Rate Limiting ──
rate-limit:
  requests-per-minute: ${RATE_LIMIT_REQUESTS_PER_MINUTE:20}

# ── Email Templates ──
email:
  activation:
    path: templates/activation-email.html
  reset-password:
    path: templates/reset-password-email.html
  support: ${SUPPORT_EMAIL:support@premisave.com}  # Add support email configuration

# ── Dashboard Redirect URLs ──
dashboard:
  url:
    client: ${frontend.url}/dashboard/client
    home-owner: ${frontend.url}/dashboard/home-owner
    admin: ${frontend.url}/dashboard/admin
    operations: ${frontend.url}/dashboard/operations
    finance: ${frontend.url}/dashboard/finance
    support: ${frontend.url}/dashboard/support

# ── Logging ──
logging:
  level:
    com.premisave.auth: DEBUG
    org.springframework.data.mongodb: DEBUG
    org.mongodb.driver: DEBUG